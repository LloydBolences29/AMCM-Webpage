import{j as t,r as i}from"./index-CH27Beym.js";import{C as oe}from"./Container-BdL84pDi.js";import{R as B}from"./Row-T6lLZ6_c.js";import{C as D}from"./Col-1dE1JxJt.js";import{C as z}from"./Card-DC9unvEz.js";import{B as te}from"./Badge-D9zwNTSv.js";import{S as U,A as K}from"./Alert-3s0gBCOM.js";import{F as j}from"./Form-BZ0ETNCW.js";import{m as se,L as F,F as re,I as ae,S as ne,O as ie}from"./Select-DyV7eYwm.js";import{a as T,g as O,u as E,c as $,s as H,i as N,b as V,r as Q,m as X}from"./DefaultPropsProvider-BQFJOVLU.js";import{b as ce,a as le,B as de}from"./ButtonBase-CrX34Rid.js";import{d as _}from"./dividerClasses-DCKhKYFy.js";import{S as pe}from"./SwitchBase-DSYEX3ug.js";import{c as A}from"./createSvgIcon-DngBmo0W.js";import{c as W}from"./createSimplePaletteValueFilter-Dh0TRCQ5.js";import{u as P}from"./useSlot-BhEGg-2m.js";import{T as w,t as q}from"./Typography-2UdtEITw.js";import{B as me}from"./Button-AsRw39wd.js";import"./Footer-D2Q2iCNQ.js";import"./CardHeaderContext-BYU8Lddw.js";import"./getReactElementRef-DYPJPfdo.js";import"./ownerDocument-DW-IO8s5.js";import"./Paper-DCCYYBpF.js";import"./CircularProgress-jb664nPt.js";import"./Modal-BqcsFcXF.js";import"./ownerWindow-wmI3Urvj.js";import"./Fade-CGnoziFP.js";import"./useSlotProps-CP5jZe4n.js";import"./debounce-Be36O1Ab.js";import"./index-BI_BQd02.js";import"./extends-CF3RwP-h.js";import"./Button-Bc2rXTAv.js";const ue=A(t.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),ye=A(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),fe=A(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function xe(e){return O("MuiCheckbox",e)}const L=T("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),be=e=>{const{classes:o,indeterminate:a,color:n,size:l}=e,p={root:["root",a&&"indeterminate",`color${N(n)}`,`size${N(l)}`]},c=V(p,xe,o);return{...o,...c}},ve=H(pe,{shouldForwardProp:e=>Q(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,a.indeterminate&&o.indeterminate,o[`size${N(a.size)}`],a.color!=="default"&&o[`color${N(a.color)}`]]}})(X(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(W()).map(([o])=>({props:{color:o,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[o].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(W()).map(([o])=>({props:{color:o},style:{[`&.${L.checked}, &.${L.indeterminate}`]:{color:(e.vars||e).palette[o].main},[`&.${L.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ge=t.jsx(ye,{}),he=t.jsx(ue,{}),Ce=t.jsx(fe,{}),Se=i.forwardRef(function(o,a){const n=E({props:o,name:"MuiCheckbox"}),{checkedIcon:l=ge,color:p="primary",icon:c=he,indeterminate:u=!1,indeterminateIcon:m=Ce,inputProps:C,size:v="medium",disableRipple:f=!1,className:S,slots:y={},slotProps:g={},...h}=n,d=u?m:c,r=u?m:l,s={...n,disableRipple:f,color:p,indeterminate:u,size:v},x=be(s),b=g.input??C,[M,R]=P("root",{ref:a,elementType:ve,className:$(x.root,S),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:g,...h},ownerState:s,additionalProps:{type:"checkbox",icon:i.cloneElement(d,{fontSize:d.props.fontSize??v}),checkedIcon:i.cloneElement(r,{fontSize:r.props.fontSize??v}),disableRipple:f,slots:y,slotProps:{input:se(typeof b=="function"?b(s):b,{"data-indeterminate":u})}}});return t.jsx(M,{...R,classes:x})}),J=T("MuiListItemIcon",["root","alignItemsFlexStart"]);function Ie(e){return O("MuiListItemText",e)}const I=T("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),je=e=>{const{classes:o,inset:a,primary:n,secondary:l,dense:p}=e;return V({root:["root",a&&"inset",p&&"dense",n&&l&&"multiline"],primary:["primary"],secondary:["secondary"]},Ie,o)},ke=H("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[{[`& .${I.primary}`]:o.primary},{[`& .${I.secondary}`]:o.secondary},o.root,a.inset&&o.inset,a.primary&&a.secondary&&o.multiline,a.dense&&o.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${q.root}:where(& .${I.primary})`]:{display:"block"},[`.${q.root}:where(& .${I.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),we=i.forwardRef(function(o,a){const n=E({props:o,name:"MuiListItemText"}),{children:l,className:p,disableTypography:c=!1,inset:u=!1,primary:m,primaryTypographyProps:C,secondary:v,secondaryTypographyProps:f,slots:S={},slotProps:y={},...g}=n,{dense:h}=i.useContext(F);let d=m??l,r=v;const s={...n,disableTypography:c,inset:u,primary:!!d,secondary:!!r,dense:h},x=je(s),b={slots:S,slotProps:{primary:C,secondary:f,...y}},[M,R]=P("root",{className:$(x.root,p),elementType:ke,externalForwardedProps:{...b,...g},ownerState:s,ref:a}),[Y,G]=P("primary",{className:x.primary,elementType:w,externalForwardedProps:b,ownerState:s}),[Z,ee]=P("secondary",{className:x.secondary,elementType:w,externalForwardedProps:b,ownerState:s});return d!=null&&d.type!==w&&!c&&(d=t.jsx(Y,{variant:h?"body2":"body1",component:G?.variant?void 0:"span",...G,children:d})),r!=null&&r.type!==w&&!c&&(r=t.jsx(Z,{variant:"body2",color:"textSecondary",...ee,children:r})),t.jsxs(M,{...R,children:[d,r]})});function Pe(e){return O("MuiMenuItem",e)}const k=T("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),$e=(e,o)=>{const{ownerState:a}=e;return[o.root,a.dense&&o.dense,a.divider&&o.divider,!a.disableGutters&&o.gutters]},Ne=e=>{const{disabled:o,dense:a,divider:n,disableGutters:l,selected:p,classes:c}=e,m=V({root:["root",a&&"dense",o&&"disabled",!l&&"gutters",n&&"divider",p&&"selected"]},Pe,c);return{...c,...m}},Te=H(de,{shouldForwardProp:e=>Q(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:$e})(X(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${k.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${k.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${k.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${k.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${_.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${_.inset}`]:{marginLeft:52},[`& .${I.root}`]:{marginTop:0,marginBottom:0},[`& .${I.inset}`]:{paddingLeft:36},[`& .${J.root}`]:{minWidth:36},variants:[{props:({ownerState:o})=>!o.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:o})=>o.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:o})=>!o.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:o})=>o.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${J.root} svg`]:{fontSize:"1.25rem"}}}]}))),Me=i.forwardRef(function(o,a){const n=E({props:o,name:"MuiMenuItem"}),{autoFocus:l=!1,component:p="li",dense:c=!1,divider:u=!1,disableGutters:m=!1,focusVisibleClassName:C,role:v="menuitem",tabIndex:f,className:S,...y}=n,g=i.useContext(F),h=i.useMemo(()=>({dense:c||g.dense||!1,disableGutters:m}),[g.dense,c,m]),d=i.useRef(null);ce(()=>{l&&d.current&&d.current.focus()},[l]);const r={...n,dense:h.dense,divider:u,disableGutters:m},s=Ne(n),x=le(d,a);let b;return n.disabled||(b=f!==void 0?f:-1),t.jsx(F.Provider,{value:h,children:t.jsx(Te,{ref:x,role:v,tabIndex:b,component:p,focusVisibleClassName:$(s.focusVisible,C),className:$(s.root,S),...y,ownerState:r,classes:s})})}),Re=48,Be=8,De={PaperProps:{style:{maxHeight:Re*4.5+Be,width:250}}},yo=()=>{const[e,o]=i.useState([]),[a,n]=i.useState([]),[l,p]=i.useState(""),[c,u]=i.useState("idle"),[m,C]=i.useState(!1),[v,f]=i.useState(!1),S="/api",y=(r,s)=>{s!=="clickaway"&&(C(!1),f(!1))},g=r=>{const{target:{value:s}}=r;o(typeof s=="string"?s.split(","):s)},h=async()=>{try{const s=await(await fetch(`${S}/doctor/get-doctors-departments`,{method:"GET",credentials:"include"})).json();console.log("Doctors and departments fetched successfully:",s),n(s)}catch(r){console.error("Error fetching departments:",r)}},d=async r=>{r.preventDefault();try{const s=await fetch(`${S}/keyword/add-keyword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctorDepartment_id:e,keyword:l}),credentials:"include"});if(s.ok){const x=await s.json();u("success"),C(!0),p(""),o([]),console.log("Keyword added successfully:",x)}}catch(s){u("error"),f(!0),console.error("Error adding keyword:",s)}};return i.useEffect(()=>{h()},[]),i.useEffect(()=>{console.log("Selected doctors:",e)},[e]),t.jsx(oe,{className:"py-5",children:t.jsx(B,{className:"justify-content-center",children:t.jsx(D,{md:8,lg:6,children:t.jsxs(z,{className:"shadow-lg border-0",children:[t.jsx(z.Header,{className:"text-white text-center py-3",style:{backgroundColor:"#007682"},children:t.jsxs("h2",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-user-md me-2"}),"Add New KeyWord"]})}),t.jsxs(z.Body,{className:"p-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx(te,{className:"mb-2",style:{backgroundColor:"#163235"},children:"Instruction"}),t.jsx("p",{children:"Please select the doctors and enter a keyword to add it to the system."})]}),c==="success"?t.jsx(U,{open:m,autoHideDuration:5e3,onClose:y,children:t.jsx(K,{onClose:y,severity:"success",variant:"filled",sx:{width:"100%",margin:"1em",fontSize:"1em"},children:"Department saved successfully!"})}):t.jsx(U,{open:v,autoHideDuration:5e3,onClose:y,children:t.jsx(K,{onClose:y,severity:"error",variant:"filled",sx:{width:"100%",margin:"1em",fontSize:"1em"},children:"Failed on saving the Department!"})}),t.jsxs(j,{onSubmit:d,children:[t.jsx(B,{children:t.jsx(D,{md:12,children:t.jsxs(j.Group,{className:"mb-3",children:[t.jsxs(j.Label,{className:"fw-bold",children:[t.jsx("i",{className:"fas fa-key me-2"}),"Keyword"]}),t.jsx(j.Control,{type:"text",placeholder:"Enter keyword",value:l,onChange:r=>p(r.target.value),required:!0,className:"form-control-lg"})]})})}),t.jsx(B,{children:t.jsx(D,{md:12,children:t.jsx(j.Group,{className:"mb-3",children:t.jsxs(re,{fullWidth:!0,sx:{mt:1},children:[t.jsx(ae,{id:"doctor-select-label",children:"Doctors"}),t.jsx(ne,{labelId:"doctor-select-label",id:"doctor-multiple-checkbox",multiple:!0,value:e,onChange:g,input:t.jsx(ie,{label:"Doctors"}),renderValue:r=>a.filter(s=>r.includes(s.ID)).map(s=>s.Name).join(", "),MenuProps:De,children:a.map(r=>t.jsxs(Me,{value:r.ID,children:[t.jsx(Se,{checked:e.includes(r.ID)}),t.jsx(we,{primary:`${r.Name} - ${r.Department}`})]},r.ID))})]})})})}),t.jsx("div",{className:"d-grid",children:t.jsx(me,{type:"submit",variant:"primary",className:"btn-lg",children:"Add Keyword"})})]})]})]})})})})};export{yo as default};
