import{r as t,d as u,j as e}from"./index-C3TqbOx3.js";import{N as y,F as v}from"./Footer-jYdelOlm.js";import S from"./EKGSpinner-K-28b6B_.js";import{C as b,a as N}from"./CardContent-DPJra5uq.js";import{A as C}from"./Avatar-Bxuk6a6X.js";import{T as i}from"./Typography-TJkOpU_H.js";import{C as E}from"./CardActionArea-CDamfGRV.js";import"./DefaultPropsProvider-BkAkqsQB.js";import"./extends-CF3RwP-h.js";import"./Paper-DADNEqzy.js";import"./createSimplePaletteValueFilter-BFiyISdh.js";import"./createSvgIcon-Cykufoml.js";import"./useSlot-DBlvMu_V.js";import"./ButtonBase-CfVmB-kl.js";import"./index-6uHMXlRM.js";const z=()=>{const[n,l]=t.useState([]),h=u(),m=new URLSearchParams(h.search),[r,p]=t.useState(m.get("term")||""),[x,a]=t.useState(!1),[d,o]=t.useState(null),g="/api",f=[{label:"Home",path:"/"},{label:"Our Services",path:"/services"},{label:"Find Doctors",path:"/find-doctors"},{label:"Billing and Admission",path:"/billing-admission"},{label:"Patient Rights",path:"/patient-rights"},{label:"Online Patient Survey",path:"/online-patient-survey"}],j=async()=>{try{const s=await fetch(`${g}/keyword/get-keywords/${r}`);if(s.ok){const c=await s.json();l(c),o(null)}else{const c=await s.json();o(c.message||"Failed to fetch search results."),console.error("Failed to fetch search results."),a(!1)}}catch(s){console.error("Error fetching search term:",s),o("An error occurred while fetching search results."),l([])}finally{a(!1)}};return t.useEffect(()=>{r.trim()&&a(!0);const s=setTimeout(()=>{r.trim()?(j(),console.log("Fetching search results for:",n)):(l([]),a(!1))},2e3);return()=>clearTimeout(s)},[r]),e.jsxs("div",{className:"home-body",children:[e.jsxs("div",{className:"home-content",children:[e.jsx(y,{menuLinks:f}),e.jsx("div",{className:"main",children:e.jsx("div",{id:"search-page-containers",children:e.jsxs("div",{id:"search-section",children:[e.jsx("input",{id:"search-input",type:"text",placeholder:"Search for illness or doctor",value:r,onChange:s=>p(s.target.value)}),x?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:e.jsx(S,{})}):d?e.jsx("p",{className:"error-message",children:d}):n.length>0?e.jsx("div",{id:"search-results",className:"g-2",children:n.map(s=>e.jsxs(b,{className:"search-result-card",children:[e.jsx("div",{id:!0,style:{backgroundColor:"#007682",color:"white",padding:"8px 16px",borderRadius:"8px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1em"},children:[e.jsx(C,{sx:{bgcolor:"#142C2E",width:56,height:56,border:"2px solid white",fontSize:"1.5rem",fontWeight:500},children:s.Name.split(" ")[0][0]}),e.jsxs(i,{variant:"h5",component:"div",sx:{fontWeight:600,fontFamily:"Montserrat, sans-serif",fontSize:"1.2rem"},children:["Dr. ",s.Name]})]})}),e.jsx(E,{children:e.jsxs(N,{children:[e.jsx(i,{variant:"body1",sx:{display:"flex",alignItems:"center",mb:1,color:"#142C2E"},children:e.jsxs("i",{className:"fas fa-door-open",style:{marginRight:"8px",color:"#142C2E"},children:["Department: ",s.Department]})}),e.jsx(i,{variant:"body1",sx:{display:"flex",alignItems:"center",mb:1,color:"#142C2E"},children:e.jsxs("i",{className:"fas fa-door-open",style:{marginRight:"8px",color:"#142C2E"},children:["Room Number: ",s.Room]})}),e.jsx(i,{variant:"body1",sx:{display:"flex",alignItems:"center",color:"#142C2E"},children:e.jsxs("i",{className:"fas fa-phone",style:{marginRight:"8px",color:"#142C2E"},children:["Local Phone: ",s.Local]})}),e.jsx(i,{variant:"body1",sx:{display:"flex",alignItems:"center",color:"#142C2E",wordWrap:"break-word",overflowWrap:"break-word"},children:e.jsx("i",{className:"fas fa-phone",style:{marginRight:"8px",color:"#142C2E"},children:["OB GYNE / PERINATOLOGIST / SONOLOGIST","OB GYNE / SONOLOGIST"].includes(s.Department)?e.jsxs("div",{style:{display:"flex",alignItems:"start",flexDirection:"column",textAlign:"left"},children:[e.jsx("span",{children:"Schedule:"}),s["Clinic Schedule"]&&e.jsxs("div",{style:{marginBottom:"10px",whiteSpace:"pre-line"},children:[e.jsx("strong",{children:"Clinic:"}),e.jsx("br",{}),s["Clinic Schedule"]]}),s["Ultrasound Schedule"]&&e.jsxs("div",{style:{whiteSpace:"pre-line"},children:[e.jsx("strong",{children:"Ultrasound:"}),e.jsx("br",{}),s["Ultrasound Schedule"]]})]}):e.jsx(e.Fragment,{children:s["General Schedule"]&&e.jsxs("div",{style:{display:"flex",alignItems:"start",flexDirection:"column",textAlign:"left",whiteSpace:"pre-line"},children:[e.jsx("strong",{children:"Schedule:"}),s["General Schedule"]]})})})})]})})]},s.ID))}):e.jsx("p",{children:"No results found."})]})})}),e.jsx(v,{})]}),e.jsx("div",{className:"seventh-grid",children:e.jsx("div",{id:"seventh-grid-body",children:e.jsx("img",{id:"symbol",src:"/adventist-symbol--white.png",alt:"Seventh Grid"})})})]})};export{z as default};
